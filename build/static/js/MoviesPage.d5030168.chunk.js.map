{"version":3,"sources":["components/MoviesList/MoviesList.module.css","components/MoviesList/MoviesList.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/MoviesPage/MoviesPage.module.css","views/MoviesPage/MoviesPage.jsx"],"names":["module","exports","withRouter","movies","location","className","styles","list","map","id","poster_path","item","to","pathname","state","from","img","src","alt","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MoviesPage","query","hendleChange","evt","setState","currentTarget","toLowerCase","hendleSubmit","props","history","preventDefault","trim","fetch","search","alert","axios","get","then","response","data","results","this","slice","container","searchForm","onSubmit","searchFormInput","type","placeholder","onChange","searchFormButtonLabel","MoviesList","Component"],"mappings":"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","file":"static/js/MoviesPage.d5030168.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MoviesList_list__hnLOU\",\"item\":\"MoviesList_item__21rSo\"};","import PropTypes from 'prop-types';\r\nimport styles from './MoviesList.module.css';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nconst MoviesList = ({ movies, location }) => {\r\n  return (\r\n    <ul className={`${styles.list} list`}>\r\n      {movies.map(({ id, poster_path }) => (\r\n        <li className={styles.item} key={id}>\r\n          <Link\r\n            to={{\r\n              pathname: `movies/${id}`,\r\n              state: { from: location },\r\n            }}\r\n          >\r\n            <img className={styles.img} src={`https://image.tmdb.org/t/p/w500${poster_path}`} alt=\"\"></img>\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default withRouter(MoviesList);\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MoviesPage_container__3ajqd\",\"searchForm\":\"MoviesPage_searchForm__1Oqde\"};","import styles from './MoviesPage.module.css';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Route, NavLink, Link, Redirect, Switch } from 'react-router-dom';\r\n\r\nimport MoviesList from '../../components/MoviesList';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    query: '',\r\n    movies: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.search) {\r\n      this.fetch(this.props.location.search.slice(7));\r\n    }\r\n  }\r\n\r\n  hendleChange = evt => {\r\n    this.setState({ query: evt.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  hendleSubmit = evt => {\r\n    const { location, history } = this.props;\r\n\r\n    evt.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      alert('You enter empty query!');\r\n      return;\r\n    }\r\n\r\n    this.fetch(this.state.query);\r\n\r\n    history.push({ ...location, search: `query=${this.state.query}` });\r\n  };\r\n\r\n  fetch = query => {\r\n    return axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=0f42664b7f6700c34263c8262c49b65b&language=en-US&page=1&include_adult=false`,\r\n      )\r\n      .then(response =>\r\n        this.setState({\r\n          movies: response.data.results,\r\n        }),\r\n      );\r\n  };\r\n\r\n  render() {\r\n    const { movies } = this.state;\r\n\r\n    return (\r\n      <div className={`container ${styles.container}`}>\r\n        <form className={styles.searchForm} onSubmit={this.hendleSubmit}>\r\n          <input\r\n            className={styles.searchFormInput}\r\n            type=\"text\"\r\n            placeholder=\"Search movies\"\r\n            value={this.state.query}\r\n            onChange={this.hendleChange}\r\n          />\r\n          <button type=\"submit\">\r\n            <span className={styles.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n\r\n        <MoviesList movies={movies} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}